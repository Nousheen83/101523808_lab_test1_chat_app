<!DOCTYPE html>
<html>
<head>
<title>Signup</title>

<link rel="stylesheet"
href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>

<body class="container mt-5">

<div class="card p-4 w-50 mx-auto">
<h3>Signup</h3>

<input id="username" class="form-control mt-2" placeholder="Username">
<input id="firstname" class="form-control mt-2" placeholder="First name">
<input id="lastname" class="form-control mt-2" placeholder="Last name">
<input id="password" type="password" class="form-control mt-2" placeholder="Password">

<button class="btn btn-primary mt-3" onclick="signup()">Signup</button>

<a href="login.html">Already account? Login</a>
</div>

<script>
function signup(){

 if(!username.value){
   alert("username required");return;
 }

 fetch('/signup',{
   method:'POST',
   body: JSON.stringify({
     username:username.value,
     firstname:firstname.value,
     lastname:lastname.value,
     password:password.value
   }),
   headers:{'Content-Type':'application/json'}
 })
 .then(r=>r.json())
 .then(d=>{
   alert(d.msg);
   if(d.msg.includes("Success"))
     location="login.html";
 })
}
</script>

</body>
</html>
